{"version":3,"file":"index.module.js","sources":["../src/index.ts"],"sourcesContent":["// @ts-ignore\nimport { precompile } from 'handlebars';\nimport type { Plugin as VitePlugin } from 'vite';\n\nconst fileRegex = /\\.(hbs)$/\n\nexport default function handlebarsPlugin(): VitePlugin {\n    return {\n        name: 'handlebars',\n\n        transform(src: string, path: string) {\n            if (fileRegex.test(path)) {\n                const code = precompile(src).toString();\n                return {\n                    code: `\nimport {template} from 'handlebars';\nexport default template(${code.toString()});\n`,\n                    map: null\n                }\n            }\n        }\n    }\n}\n"],"names":["fileRegex","handlebarsPlugin","name","transform","src","path","test","code","precompile","toString","map"],"mappings":";;AAAA;AAIA,MAAMA,SAAS,GAAG,UAAlB;SAEwBC;AACpB,SAAO;AACHC,IAAAA,IAAI,EAAE,YADH;;AAGHC,IAAAA,SAAS,CAACC,GAAD,EAAcC,IAAd;AACL,UAAIL,SAAS,CAACM,IAAV,CAAeD,IAAf,CAAJ,EAA0B;AACtB,cAAME,IAAI,GAAGC,UAAU,CAACJ,GAAD,CAAV,CAAgBK,QAAhB,EAAb;AACA,eAAO;AACHF,UAAAA,IAAI;;0BAEEA,IAAI,CAACE,QAAL;CAHH;AAKHC,UAAAA,GAAG,EAAE;AALF,SAAP;AAOH;AACJ;;AAdE,GAAP;AAgBH;;;;"}